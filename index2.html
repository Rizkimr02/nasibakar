<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nasi Bakar Aa Iki - Menu Digital</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f8fafc;
        }
        
        .food-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(34, 197, 94, 0.2);
        }
        
        .cart-item {
            transition: all 0.3s ease;
        }
        
        .cart-item:hover {
            background-color: #f0fdf4;
        }
        
        .floating-button {
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        
        .green-gradient {
            background: linear-gradient(135deg, #10b981 0%, #065f46 100%);
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="green-gradient text-white shadow-lg sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <i class="fas fa-utensils text-2xl"></i>
                <h1 class="text-xl font-bold">Nasi Bakar Jatinangor.id</h1>
            </div>
            <div class="relative">
                <button id="cartButton" class="relative">
                    <i class="fas fa-shopping-cart text-2xl"></i>
                    <span id="cartCount" class="absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs">0</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-6">
        <!-- Hero Section -->
        <section class="mb-10 rounded-xl overflow-hidden shadow-lg green-gradient text-white">
            <div class="p-6 md:p-10">
                <h2 class="text-2xl md:text-3xl font-bold mb-2">Nasi Bakar Spesial</h2>
                <p class="mb-4">Rasa autentik dengan bahan pilihan terbaik</p>
                <button class="bg-white text-emerald-700 px-4 py-2 rounded-lg font-medium hover:bg-gray-100 transition">Pesan Sekarang</button>
            </div>
        </section>

        <!-- Menu Navigation -->
        <div class="flex overflow-x-auto mb-6 hide-scrollbar">
            <button class="menu-tab active px-4 py-2 font-medium whitespace-nowrap" data-category="food">Makanan</button>
            <button class="menu-tab px-4 py-2 font-medium whitespace-nowrap" data-category="drink">Minuman</button>
            <button class="menu-tab px-4 py-2 font-medium whitespace-nowrap" data-category="topping">Topping</button>
        </div>

        <!-- Food Menu -->
        <section id="foodMenu" class="menu-section">
            <h3 class="text-xl font-bold mb-4 text-gray-800">Menu Makanan</h3>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                <!-- Food Item 1 -->
                <div class="food-card bg-white rounded-xl shadow-md p-4 transition duration-300 border border-gray-100">
                    <div class="flex justify-between items-start mb-3">
                        <h4 class="font-bold text-gray-800">Nasi Bakar Ayam Suwir</h4>
                        <span class="bg-emerald-100 text-emerald-800 text-xs px-2 py-1 rounded">Best Seller</span>
                    </div>
                    <p class="text-sm text-gray-600 mb-3">Nasi bakar dengan ayam suwir pedas dan rempah khas</p>
                    <div class="flex justify-between items-center">
                        <span class="font-bold text-emerald-700">Rp 15.000</span>
                        <button class="add-to-cart bg-emerald-600 text-white px-3 py-1 rounded-full text-sm hover:bg-emerald-700 transition" data-id="1" data-name="Nasi Bakar Ayam Suwir" data-price="15000">
                            <i class="fas fa-plus"></i> Tambah
                        </button>
                    </div>
                </div>

                <!-- Food Item 2 -->
                <div class="food-card bg-white rounded-xl shadow-md p-4 transition duration-300 border border-gray-100">
                    <div class="flex justify-between items-start mb-3">
                        <h4 class="font-bold text-gray-800">Nasi Bakar Cumi Hitam</h4>
                    </div>
                    <p class="text-sm text-gray-600 mb-3">Nasi bakar dengan cumi hitam gurih dan pedas</p>
                    <div class="flex justify-between items-center">
                        <span class="font-bold text-emerald-700">Rp 18.000</span>
                        <button class="add-to-cart bg-emerald-600 text-white px-3 py-1 rounded-full text-sm hover:bg-emerald-700 transition" data-id="2" data-name="Nasi Bakar Cumi Hitam" data-price="18000">
                            <i class="fas fa-plus"></i> Tambah
                        </button>
                    </div>
                </div>

                <!-- Food Item 3 -->
                <div class="food-card bg-white rounded-xl shadow-md p-4 transition duration-300 border border-gray-100">
                    <div class="flex justify-between items-start mb-3">
                        <h4 class="font-bold text-gray-800">Nasi Bakar Jamur</h4>
                    </div>
                    <p class="text-sm text-gray-600 mb-3">Nasi bakar dengan jamur tiram dan bumbu rempah</p>
                    <div class="flex justify-between items-center">
                        <span class="font-bold text-emerald-700">Rp 12.000</span>
                        <button class="add-to-cart bg-emerald-600 text-white px-3 py-1 rounded-full text-sm hover:bg-emerald-700 transition" data-id="3" data-name="Nasi Bakar Jamur" data-price="12000">
                            <i class="fas fa-plus"></i> Tambah
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Drink Menu -->
        <section id="drinkMenu" class="menu-section hidden">
            <h3 class="text-xl font-bold mb-4 text-gray-800">Menu Minuman</h3>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                <!-- Drink Item 1 -->
                <div class="food-card bg-white rounded-xl shadow-md p-4 transition duration-300 border border-gray-100">
                    <div class="flex justify-between items-start mb-3">
                        <h4 class="font-bold text-gray-800">Es Teh Manis</h4>
                    </div>
                    <p class="text-sm text-gray-600 mb-3">Es teh dengan gula pasir pilihan</p>
                    <div class="flex justify-between items-center">
                        <span class="font-bold text-emerald-700">Rp 5.000</span>
                        <button class="add-to-cart bg-emerald-600 text-white px-3 py-1 rounded-full text-sm hover:bg-emerald-700 transition" data-id="4" data-name="Es Teh Manis" data-price="5000">
                            <i class="fas fa-plus"></i> Tambah
                        </button>
                    </div>
                </div>

                <!-- Drink Item 2 -->
                <div class="food-card bg-white rounded-xl shadow-md p-4 transition duration-300 border border-gray-100">
                    <div class="flex justify-between items-start mb-3">
                        <h4 class="font-bold text-gray-800">Es Jeruk</h4>
                    </div>
                    <p class="text-sm text-gray-600 mb-3">Es jeruk segar dengan perasan jeruk asli</p>
                    <div class="flex justify-between items-center">
                        <span class="font-bold text-emerald-700">Rp 7.000</span>
                        <button class="add-to-cart bg-emerald-600 text-white px-3 py-1 rounded-full text-sm hover:bg-emerald-700 transition" data-id="5" data-name="Es Jeruk" data-price="7000">
                            <i class="fas fa-plus"></i> Tambah
                        </button>
                    </div>
                </div>

                <!-- Drink Item 3 -->
                <div class="food-card bg-white rounded-xl shadow-md p-4 transition duration-300 border border-gray-100">
                    <div class="flex justify-between items-start mb-3">
                        <h4 class="font-bold text-gray-800">Es Campur</h4>
                        <span class="bg-emerald-100 text-emerald-800 text-xs px-2 py-1 rounded">New</span>
                    </div>
                    <p class="text-sm text-gray-600 mb-3">Es campur dengan berbagai buah dan sirup special</p>
                    <div class="flex justify-between items-center">
                        <span class="font-bold text-emerald-700">Rp 12.000</span>
                        <button class="add-to-cart bg-emerald-600 text-white px-3 py-1 rounded-full text-sm hover:bg-emerald-700 transition" data-id="6" data-name="Es Campur" data-price="12000">
                            <i class="fas fa-plus"></i> Tambah
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Topping Menu -->
        <section id="toppingMenu" class="menu-section hidden">
            <h3 class="text-xl font-bold mb-4 text-gray-800">Menu Topping</h3>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                <!-- Topping Item 1 -->
                <div class="food-card bg-white rounded-xl shadow-md p-4 transition duration-300 border border-gray-100">
                    <div class="flex justify-between items-start mb-3">
                        <h4 class="font-bold text-gray-800">Kerupuk</h4>
                    </div>
                    <p class="text-sm text-gray-600 mb-3">Kerupuk udang renyah</p>
                    <div class="flex justify-between items-center">
                        <span class="font-bold text-emerald-700">Rp 3.000</span>
                        <button class="add-to-cart bg-emerald-600 text-white px-3 py-1 rounded-full text-sm hover:bg-emerald-700 transition" data-id="7" data-name="Kerupuk" data-price="3000">
                            <i class="fas fa-plus"></i> Tambah
                        </button>
                    </div>
                </div>

                <!-- Topping Item 2 -->
                <div class="food-card bg-white rounded-xl shadow-md p-4 transition duration-300 border border-gray-100">
                    <div class="flex justify-between items-start mb-3">
                        <h4 class="font-bold text-gray-800">Sambal Extra</h4>
                    </div>
                    <p class="text-sm text-gray-600 mb-3">Sambal pedas khas Aa Iki</p>
                    <div class="flex justify-between items-center">
                        <span class="font-bold text-emerald-700">Rp 2.500</span>
                        <button class="add-to-cart bg-emerald-600 text-white px-3 py-1 rounded-full text-sm hover:bg-emerald-700 transition" data-id="8" data-name="Sambal Extra" data-price="2500">
                            <i class="fas fa-plus"></i> Tambah
                        </button>
                    </div>
                </div>

                <!-- Topping Item 3 -->
                <div class="food-card bg-white rounded-xl shadow-md p-4 transition duration-300 border border-gray-100">
                    <div class="flex justify-between items-start mb-3">
                        <h4 class="font-bold text-gray-800">Telur Dadar</h4>
                    </div>
                    <p class="text-sm text-gray-600 mb-3">Telur dadar gurih</p>
                    <div class="flex justify-between items-center">
                        <span class="font-bold text-emerald-700">Rp 7.500</span>
                        <button class="add-to-cart bg-emerald-600 text-white px-3 py-1 rounded-full text-sm hover:bg-emerald-700 transition" data-id="9" data-name="Telur Dadar" data-price="7500">
                            <i class="fas fa-plus"></i> Tambah
                        </button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Floating Order Button -->
    <div class="fixed bottom-6 right-6 z-40 floating-button">
        <button id="orderButton" class="bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-3 px-4 rounded-full shadow-lg transition flex items-center">
            <i class="fas fa-shopping-bag mr-2"></i>
            <span>Pesan Sekarang</span>
        </button>
    </div>

    <!-- Cart Sidebar -->
    <div id="cartSidebar" class="fixed top-0 right-0 h-full w-full sm:w-96 bg-white shadow-lg transform translate-x-full transition-transform duration-300 z-50 overflow-y-auto">
        <div class="p-4">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-xl font-bold text-gray-800">Keranjang Pesanan</h2>
                <button id="closeCart" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <div id="cartItems" class="mb-4">
                <!-- Cart items will be added here dynamically -->
                <p class="text-gray-500 text-center py-10">Keranjang masih kosong</p>
            </div>
            
            <div class="border-t border-gray-200 pt-4">
                <div class="flex justify-between mb-2">
                    <span class="text-gray-600">Subtotal</span>
                    <span id="subtotal" class="font-medium">Rp 0</span>
                </div>
                <div class="flex justify-between mb-4">
                    <span class="text-gray-600">PPN (10%)</span>
                    <span id="tax" class="font-medium">Rp 0</span>
                </div>
                <div class="flex justify-between text-lg font-bold">
                    <span>Total</span>
                    <span id="total" class="text-emerald-700">Rp 0</span>
                </div>
                
                <button id="checkoutButton" class="w-full green-gradient text-white py-3 rounded-lg font-medium mt-6 hover:bg-emerald-700 transition">
                    Proses Pembayaran
                </button>
            </div>
        </div>
    </div>

    <!-- Overlay -->
    <div id="overlay" class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden"></div>

    <!-- Checkout Modal -->
    <div id="checkoutModal" class="fixed inset-0 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-md mx-4">
            <div class="p-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-xl font-bold text-gray-800">Konfirmasi Pesanan</h3>
                    <button id="closeModal" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <div class="mb-6">
                    <h4 class="font-medium text-gray-700 mb-2">Detail Pesanan:</h4>
                    <div id="orderSummary" class="bg-gray-50 p-3 rounded max-h-40 overflow-y-auto mb-4">
                        <!-- Order items will be added here -->
                    </div>
                    
                    <div class="flex justify-between font-bold text-lg mb-4">
                        <span>Total:</span>
                        <span id="modalTotal" class="text-emerald-700">Rp 0</span>
                    </div>
                    
                    <div class="mb-4">
                        <label for="paymentMethod" class="block text-gray-700 mb-2">Metode Pembayaran:</label>
                        <select id="paymentMethod" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-emerald-500">
                            <option value="cash">Tunai</option>
                            <option value="qris">QRIS</option>
                            <option value="bank">Transfer Bank</option>
                        </select>
                    </div>
                    
                    <div class="mb-4">
                        <label for="customerName" class="block text-gray-700 mb-2">Nama Pelanggan:</label>
                        <input type="text" id="customerName" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-emerald-500" placeholder="Masukkan nama Anda">
                    </div>
                </div>
                
                <div class="flex space-x-3">
                    <button id="confirmOrder" class="flex-1 green-gradient text-white py-2 rounded-lg font-medium hover:bg-emerald-700 transition">
                        Konfirmasi
                    </button>
                    <button id="cancelOrder" class="flex-1 bg-gray-200 text-gray-800 py-2 rounded-lg font-medium hover:bg-gray-300 transition">
                        Batal
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div id="successModal" class="fixed inset-0 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-md mx-4 p-6 text-center">
            <div class="text-emerald-500 text-5xl mb-4">
                <i class="fas fa-check-circle"></i>
            </div>
            <h3 class="text-xl font-bold text-gray-800 mb-2">Pesanan Berhasil!</h3>
            <p class="text-gray-600 mb-6">Terima kasih telah memesan di Nasi Bakar Aa Iki. Pesanan Anda sedang diproses.</p>
            <button id="closeSuccessModal" class="green-gradient text-white px-6 py-2 rounded-lg font-medium hover:bg-emerald-700 transition">
                Tutup
            </button>
        </div>
    </div>

    <script>
        // Cart functionality
        let cart = [];
        
        // DOM Elements
        const cartButton = document.getElementById('cartButton');
        const closeCart = document.getElementById('closeCart');
        const cartSidebar = document.getElementById('cartSidebar');
        const overlay = document.getElementById('overlay');
        const cartItems = document.getElementById('cartItems');
        const subtotal = document.getElementById('subtotal');
        const tax = document.getElementById('tax');
        const total = document.getElementById('total');
        const cartCount = document.getElementById('cartCount');
        const addToCartButtons = document.querySelectorAll('.add-to-cart');
        const checkoutButton = document.getElementById('checkoutButton');
        const orderButton = document.getElementById('orderButton');
        const checkoutModal = document.getElementById('checkoutModal');
        const closeModal = document.getElementById('closeModal');
        const orderSummary = document.getElementById('orderSummary');
        const modalTotal = document.getElementById('modalTotal');
        const confirmOrder = document.getElementById('confirmOrder');
        const cancelOrder = document.getElementById('cancelOrder');
        const successModal = document.getElementById('successModal');
        const closeSuccessModal = document.getElementById('closeSuccessModal');
        const menuTabs = document.querySelectorAll('.menu-tab');
        const menuSections = document.querySelectorAll('.menu-section');
        
        // Format currency
        const formatCurrency = (amount) => {
            return new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR', minimumFractionDigits: 0 }).format(amount);
        };
        
        // Update cart count
        const updateCartCount = () => {
            const count = cart.reduce((sum, item) => sum + item.quantity, 0);
            cartCount.textContent = count;
            if (count > 0) {
                cartCount.classList.remove('hidden');
            } else {
                cartCount.classList.add('hidden');
            }
        };
        
        // Update cart totals
        const updateCartTotals = () => {
            const subTotalAmount = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const taxAmount = subTotalAmount * 0.1; // 10% tax
            const totalAmount = subTotalAmount + taxAmount;
            
            subtotal.textContent = formatCurrency(subTotalAmount);
            tax.textContent = formatCurrency(taxAmount);
            total.textContent = formatCurrency(totalAmount);
            modalTotal.textContent = formatCurrency(totalAmount);
            
            return totalAmount;
        };
        
        // Render cart items
        const renderCartItems = () => {
            if (cart.length === 0) {
                cartItems.innerHTML = '<p class="text-gray-500 text-center py-10">Keranjang masih kosong</p>';
                checkoutButton.classList.add('opacity-50', 'cursor-not-allowed');
                checkoutButton.disabled = true;
                return;
            }
            
            checkoutButton.classList.remove('opacity-50', 'cursor-not-allowed');
            checkoutButton.disabled = false;
            
            cartItems.innerHTML = '';
            cart.forEach((item, index) => {
                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item bg-white border border-gray-100 rounded-lg p-3 mb-2 flex justify-between items-center';
                cartItem.innerHTML = `
                    <div>
                        <h4 class="font-medium text-gray-800">${item.name}</h4>
                        <p class="text-sm text-gray-600">${formatCurrency(item.price)} x ${item.quantity}</p>
                    </div>
                    <div class="flex items-center">
                        <span class="font-medium text-emerald-700 mr-4">${formatCurrency(item.price * item.quantity)}</span>
                        <div class="flex items-center space-x-2">
                            <button class="decrease-quantity text-gray-500 hover:text-emerald-600" data-index="${index}">
                                <i class="fas fa-minus text-xs"></i>
                            </button>
                            <span class="text-sm">${item.quantity}</span>
                            <button class="increase-quantity text-gray-500 hover:text-emerald-600" data-index="${index}">
                                <i class="fas fa-plus text-xs"></i>
                            </button>
                            <button class="remove-item text-gray-500 hover:text-red-500 ml-2" data-index="${index}">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                `;
                cartItems.appendChild(cartItem);
            });
            
            // Add event listeners to quantity buttons
            document.querySelectorAll('.decrease-quantity').forEach(button => {
                button.addEventListener('click', (e) => {
                    const index = e.target.closest('button').dataset.index;
                    if (cart[index].quantity > 1) {
                        cart[index].quantity--;
                    } else {
                        cart.splice(index, 1);
                    }
                    renderCartItems();
                    updateCartCount();
                    updateCartTotals();
                });
            });
            
            document.querySelectorAll('.increase-quantity').forEach(button => {
                button.addEventListener('click', (e) => {
                    const index = e.target.closest('button').dataset.index;
                    cart[index].quantity++;
                    renderCartItems();
                    updateCartCount();
                    updateCartTotals();
                });
            });
            
            document.querySelectorAll('.remove-item').forEach(button => {
                button.addEventListener('click', (e) => {
                    const index = e.target.closest('button').dataset.index;
                    cart.splice(index, 1);
                    renderCartItems();
                    updateCartCount();
                    updateCartTotals();
                });
            });
        };
        
        // Add to cart functionality
        addToCartButtons.forEach(button => {
            button.addEventListener('click', (e) => {
                const id = e.target.closest('button').dataset.id;
                const name = e.target.closest('button').dataset.name;
                const price = parseInt(e.target.closest('button').dataset.price);
                
                // Check if item already in cart
                const existingItem = cart.find(item => item.id === id);
                if (existingItem) {
                    existingItem.quantity++;
                } else {
                    cart.push({ id, name, price, quantity: 1 });
                }
                
                // Update UI
                updateCartCount();
                renderCartItems();
                updateCartTotals();
                
                // Show cart sidebar if it's hidden
                if (cartSidebar.classList.contains('translate-x-full')) {
                    cartSidebar.classList.remove('translate-x-full');
                    overlay.classList.remove('hidden');
                }
                
                // Add animation to button
                const buttonRect = e.target.getBoundingClientRect();
                const animation = document.createElement('div');
                animation.className = 'add-to-cart-animation';
                animation.style.position = 'fixed';
                animation.style.left = `${buttonRect.left}px`;
                animation.style.top = `${buttonRect.top}px`;
                animation.style.width = `${buttonRect.width}px`;
                animation.style.height = `${buttonRect.height}px`;
                animation.style.backgroundColor = '#10b981';
                animation.style.borderRadius = '9999px';
                animation.style.zIndex = '100';
                animation.style.display = 'flex';
                animation.style.justifyContent = 'center';
                animation.style.alignItems = 'center';
                animation.style.color = 'white';
                animation.innerHTML = '<i class="fas fa-check"></i>';
                document.body.appendChild(animation);
                
                // Animate to cart
                const cartRect = cartButton.getBoundingClientRect();
                const animationDuration = 500;
                
                const startTime = performance.now();
                
                const animate = (currentTime) => {
                    const elapsedTime = currentTime - startTime;
                    const progress = Math.min(elapsedTime / animationDuration, 1);
                    
                    const x = buttonRect.left + (cartRect.left - buttonRect.left) * progress;
                    const y = buttonRect.top + (cartRect.top - buttonRect.top) * progress;
                    const scale = 1 + (0.5 * progress);
                    
                    animation.style.left = `${x}px`;
                    animation.style.top = `${y}px`;
                    animation.style.transform = `scale(${scale})`;
                    animation.style.opacity = 1 - (progress * 0.8);
                    
                    if (progress < 1) {
                        requestAnimationFrame(animate);
                    } else {
                        animation.remove();
                    }
                };
                
                requestAnimationFrame(animate);
            });
        });
        
        // Cart sidebar toggle
        cartButton.addEventListener('click', () => {
            cartSidebar.classList.remove('translate-x-full');
            overlay.classList.remove('hidden');
        });
        
        closeCart.addEventListener('click', () => {
            cartSidebar.classList.add('translate-x-full');
            overlay.classList.add('hidden');
        });
        
        overlay.addEventListener('click', () => {
            cartSidebar.classList.add('translate-x-full');
            overlay.classList.add('hidden');
            checkoutModal.classList.add('hidden');
            successModal.classList.add('hidden');
        });
        
        // Order button functionality
        orderButton.addEventListener('click', () => {
            if (cart.length === 0) {
                alert('Keranjang masih kosong. Silakan tambahkan item terlebih dahulu.');
                return;
            }
            
            // Show cart sidebar if it's hidden
            if (cartSidebar.classList.contains('translate-x-full')) {
                cartSidebar.classList.remove('translate-x-full');
                overlay.classList.remove('hidden');
            }
        });
        
        // Checkout functionality
        checkoutButton.addEventListener('click', () => {
            // Prepare order summary
            orderSummary.innerHTML = '';
            cart.forEach(item => {
                const orderItem = document.createElement('div');
                orderItem.className = 'flex justify-between py-1 border-b border-gray-100';
                orderItem.innerHTML = `
                    <span>${item.name} (${item.quantity}x)</span>
                    <span>${formatCurrency(item.price * item.quantity)}</span>
                `;
                orderSummary.appendChild(orderItem);
            });
            
            // Show checkout modal
            checkoutModal.classList.remove('hidden');
            overlay.classList.remove('hidden');
            cartSidebar.classList.add('translate-x-full');
        });
        
        // Close modal
        closeModal.addEventListener('click', () => {
            checkoutModal.classList.add('hidden');
            overlay.classList.add('hidden');
        });
        
        cancelOrder.addEventListener('click', () => {
            checkoutModal.classList.add('hidden');
            overlay.classList.add('hidden');
        });
        
        // Confirm order
        confirmOrder.addEventListener('click', () => {
            const paymentMethod = document.getElementById('paymentMethod').value;
            const customerName = document.getElementById('customerName').value.trim();
            
            if (!customerName) {
                alert('Silakan masukkan nama Anda');
                return;
            }
            
            // In a real app, you would send this data to your backend
            console.log('Order confirmed:', {
                customerName,
                paymentMethod,
                items: cart,
                total: updateCartTotals()
            });
            
            // Show success modal
            checkoutModal.classList.add('hidden');
            successModal.classList.remove('hidden');
            
            // Clear cart
            cart = [];
            renderCartItems();
            updateCartCount();
            updateCartTotals();
            document.getElementById('customerName').value = '';
        });
        
        // Close success modal
        closeSuccessModal.addEventListener('click', () => {
            successModal.classList.add('hidden');
            overlay.classList.add('hidden');
        });
        
        // Menu tab switching
        menuTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                // Update active tab
                menuTabs.forEach(t => t.classList.remove('active', 'text-emerald-600', 'border-b-2', 'border-emerald-600'));
                tab.classList.add('active', 'text-emerald-600', 'border-b-2', 'border-emerald-600');
                
                // Show corresponding section
                const category = tab.dataset.category;
                menuSections.forEach(section => {
                    section.classList.add('hidden');
                });
                document.getElementById(`${category}Menu`).classList.remove('hidden');
            });
        });
        
        // Initialize
        updateCartCount();
        renderCartItems();
        updateCartTotals();
    </script>
</body>
</html>